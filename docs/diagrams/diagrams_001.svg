<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="980px" preserveAspectRatio="none" style="width:1121px;height:980px;background:#FFFFFF;" version="1.1" viewBox="0 0 1121 980" width="1121px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="190" x="467.25" y="29.9659">Uploading audio part 2 (v1)</text><rect fill="#FF0000" height="64.412" style="stroke:#000000;stroke-width:1.5;" width="264" x="237" y="191.2539"/><rect fill="#FF0000" height="51.412" style="stroke:#000000;stroke-width:1.5;" width="652.5" x="237" y="350.784"/><rect fill="#FF0000" height="83.118" style="stroke:#000000;stroke-width:1.5;" width="1049.5" x="10" y="524.314"/><rect fill="none" height="240.6481" style="stroke:#000000;stroke-width:1.5;" width="1105.5" x="10" y="684.8441"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="65" x2="65" y1="79.1358" y2="942.4923"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="297" x2="297" y1="79.1358" y2="942.4923"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="514.5" x2="514.5" y1="79.1358" y2="942.4923"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="681.5" x2="681.5" y1="79.1358" y2="942.4923"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="834.5" x2="834.5" y1="79.1358" y2="942.4923"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="969.5" x2="969.5" y1="79.1358" y2="942.4923"/><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="91" x="20" y="45.0679"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="27" y="67.0339">EarsService</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="91" x="20" y="941.4923"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="27" y="963.4582">EarsService</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101" x="247" y="45.0679"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="254" y="67.0339">AudioService</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101" x="247" y="941.4923"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="254" y="963.4582">AudioService</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="456.5" y="45.0679"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="463.5" y="67.0339">UserRepository</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="456.5" y="941.4923"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="463.5" y="963.4582">UserRepository</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="198" x="582.5" y="45.0679"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="184" x="589.5" y="67.0339">AudioRecordInfoRepository</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="198" x="582.5" y="941.4923"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="184" x="589.5" y="963.4582">AudioRecordInfoRepository</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89" x="790.5" y="45.0679"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="797.5" y="67.0339">FileStorage</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89" x="790.5" y="941.4923"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="797.5" y="963.4582">FileStorage</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160" x="889.5" y="45.0679"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="896.5" y="67.0339">FileUploader instance</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160" x="889.5" y="941.4923"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="896.5" y="963.4582">FileUploader instance</text><polygon fill="#181818" points="285.5,108.8419,295.5,112.8419,285.5,116.8419,289.5,112.8419" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="65.5" x2="291.5" y1="112.8419" y2="112.8419"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="72.5" y="107.0328">getUploader(username, Metadata)</text><polygon fill="#181818" points="502.5,140.5479,512.5,144.5479,502.5,148.5479,506.5,144.5479" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="297.5" x2="508.5" y1="144.5479" y2="144.5479"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="304.5" y="138.7389">getUserByUsername(username)</text><polygon fill="#181818" points="308.5,172.2539,298.5,176.2539,308.5,180.2539,304.5,176.2539" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="302.5" x2="513.5" y1="176.2539" y2="176.2539"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="314.5" y="170.4449">User</text><path d="M237,191.2539 L300,191.2539 L300,200.9599 L290,210.9599 L237,210.9599 L237,191.2539 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="64.412" style="stroke:#000000;stroke-width:1.5;" width="264" x="237" y="191.2539"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="252" y="206.1509">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="181" x="315" y="205.0128">[&#1048;&#1089;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1103; &#1087;&#1086; &#1073;&#1080;&#1079;&#1085;&#1077;&#1089; &#1083;&#1086;&#1075;&#1080;&#1082;&#1077;]</text><line style="stroke:#181818;stroke-width:1.0;" x1="297.5" x2="339.5" y1="234.6659" y2="234.6659"/><line style="stroke:#181818;stroke-width:1.0;" x1="339.5" x2="339.5" y1="234.6659" y2="247.6659"/><line style="stroke:#181818;stroke-width:1.0;" x1="298.5" x2="339.5" y1="247.6659" y2="247.6659"/><polygon fill="#181818" points="308.5,243.6659,298.5,247.6659,308.5,251.6659,304.5,247.6659" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="304.5" y="228.8569">&#1055;&#1088;&#1086;&#1074;&#1077;&#1088;&#1082;&#1072; &#1073;&#1080;&#1079;&#1085;&#1077;&#1089; &#1087;&#1088;&#1072;&#1074;&#1080;&#1083;</text><polygon fill="#181818" points="669.5,300.0779,679.5,304.0779,669.5,308.0779,673.5,304.0779" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="297.5" x2="675.5" y1="304.0779" y2="304.0779"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="304.5" y="280.5629">create AudioRecordInfo</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="307.5" y="298.2689">status: Waiting</text><polygon fill="#181818" points="308.5,331.784,298.5,335.784,308.5,339.784,304.5,335.784" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="302.5" x2="680.5" y1="335.784" y2="335.784"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="314.5" y="329.975">UUID</text><path d="M237,350.784 L300,350.784 L300,360.49 L290,370.49 L237,370.49 L237,350.784 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="51.412" style="stroke:#000000;stroke-width:1.5;" width="652.5" x="237" y="350.784"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="252" y="365.681">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="124" x="315" y="364.5429">[&#1054;&#1096;&#1080;&#1073;&#1082;&#1072; &#1093;&#1088;&#1072;&#1085;&#1080;&#1083;&#1080;&#1097;&#1072;]</text><polygon fill="#181818" points="823,390.196,833,394.196,823,398.196,827,394.196" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="297.5" x2="829" y1="394.196" y2="394.196"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="304.5" y="388.387">getUploader(String uuid)</text><polygon fill="#181818" points="308.5,428.902,298.5,432.902,308.5,436.902,304.5,432.902" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="302.5" x2="834" y1="432.902" y2="432.902"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="314.5" y="427.093">uploaderInstance</text><line style="stroke:#181818;stroke-width:1.0;" x1="297.5" x2="339.5" y1="464.608" y2="464.608"/><line style="stroke:#181818;stroke-width:1.0;" x1="339.5" x2="339.5" y1="464.608" y2="477.608"/><line style="stroke:#181818;stroke-width:1.0;" x1="298.5" x2="339.5" y1="477.608" y2="477.608"/><polygon fill="#181818" points="308.5,473.608,298.5,477.608,308.5,481.608,304.5,477.608" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="304.5" y="458.799">recordInfo.setStatus(Uploading);</text><polygon fill="#181818" points="76.5,505.314,66.5,509.314,76.5,513.314,72.5,509.314" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="70.5" x2="296.5" y1="509.314" y2="509.314"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="82.5" y="503.505">FileUploader instance reference</text><path d="M10,524.314 L73,524.314 L73,534.0201 L63,544.0201 L10,544.0201 L10,524.314 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="83.118" style="stroke:#000000;stroke-width:1.5;" width="1049.5" x="10" y="524.314"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="25" y="539.2111">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="200" x="88" y="538.073">[&#1054;&#1096;&#1080;&#1073;&#1082;&#1072; &#1083;&#1086;&#1075;&#1080;&#1082;&#1080; &#1074;&#1099;&#1075;&#1088;&#1091;&#1079;&#1082;&#1077; &#1076;&#1072;&#1085;&#1085;&#1099;&#1093;]</text><polygon fill="#181818" points="957.5,563.7261,967.5,567.7261,957.5,571.7261,961.5,567.7261" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="65.5" x2="963.5" y1="567.7261" y2="567.7261"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="72.5" y="561.9171">writeBatch (&#1084;&#1077;&#1090;&#1086;&#1076; &#1072;&#1089;&#1080;&#1085;&#1093;&#1088;&#1086;&#1085;&#1085;&#1099;&#1081;)</text><polygon fill="#181818" points="957.5,595.4321,967.5,599.4321,957.5,603.4321,961.5,599.4321" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="65.5" x2="963.5" y1="599.4321" y2="599.4321"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="72.5" y="593.6231">close</text><polygon fill="#181818" points="285.5,634.1381,295.5,638.1381,285.5,642.1381,289.5,638.1381" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="65.5" x2="291.5" y1="638.1381" y2="638.1381"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="72.5" y="632.3291">fileUploadedNotify(file_uuid)</text><polygon fill="#181818" points="669.5,665.8441,679.5,669.8441,669.5,673.8441,673.5,669.8441" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="297.5" x2="675.5" y1="669.8441" y2="669.8441"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="304.5" y="664.0351">update info</text><path d="M10,684.8441 L73,684.8441 L73,694.5501 L63,704.5501 L10,704.5501 L10,684.8441 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="240.6481" style="stroke:#000000;stroke-width:1.5;" width="1105.5" x="10" y="684.8441"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="25" y="699.7411">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="106" x="88" y="698.603">[transmissionError]</text><polygon fill="#181818" points="957.5,724.2562,967.5,728.2562,957.5,732.2562,961.5,728.2562" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="65.5" x2="963.5" y1="728.2562" y2="728.2562"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="72.5" y="722.4472">close</text><line style="stroke:#181818;stroke-width:1.0;" x1="969.5" x2="1011.5" y1="777.6682" y2="777.6682"/><line style="stroke:#181818;stroke-width:1.0;" x1="1011.5" x2="1011.5" y1="777.6682" y2="790.6682"/><line style="stroke:#181818;stroke-width:1.0;" x1="970.5" x2="1011.5" y1="790.6682" y2="790.6682"/><polygon fill="#181818" points="980.5,786.6682,970.5,790.6682,980.5,794.6682,976.5,790.6682" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="976.5" y="754.1532">close writing thread</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="979.5" y="771.8592">and throw exception</text><polygon fill="#181818" points="76.5,818.3742,66.5,822.3742,76.5,826.3742,72.5,822.3742" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="70.5" x2="968.5" y1="822.3742" y2="822.3742"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="82.5" y="816.5652">exception</text><polygon fill="#181818" points="285.5,850.0802,295.5,854.0802,285.5,858.0802,289.5,854.0802" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="65.5" x2="291.5" y1="854.0802" y2="854.0802"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="72.5" y="848.2712">fileUploadFailNotify(file_uuid)</text><polygon fill="#181818" points="823,881.7862,833,885.7862,823,889.7862,827,885.7862" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="297.5" x2="829" y1="885.7862" y2="885.7862"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="304.5" y="879.9772">deleteFile(file_uuid)</text><polygon fill="#181818" points="669.5,913.4923,679.5,917.4923,669.5,921.4923,673.5,917.4923" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="297.5" x2="675.5" y1="917.4923" y2="917.4923"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="304.5" y="911.6833">update info</text><!--SRC=[bLDDRzD04BtxLupA9PO84XmBGgAYbNA0GoAB2n9QUIVfIgxNMgzRSaj14Q1ASEK4Vo7zY0WDQV_2x3zYradJ9axJzkZnlBTlthonoYO8KPPe8LNQ0L58fI4Jni8pgEq_3ODWMvYyXMPVnGZrb_3ATrnzRq87xHIDfbRaQ5AnXu_X3LeXXHLXiD3Ey8XxcfZfN5bjkZC2hcrrenbwJiDlBw1VrEjLk2y4WKWiF6gY1Fhf3kcSnkwx-q93cj38_G2wf0kWOnhH7wuCtI7Gc2xeb0ldDAn8N9gGVhiUTvymiCVzWoMcIwuE-E-8nW6cCbXDryHO6zb8stf1VMnGM5nkWVSfv5RO8j-4Tq9PNapLYNMqKTHu7TnqvPVxoWAFI_ckNogUUCLippSQL2Jlg0HRp2KwoojkMUDZKXHAXYl6zS8MmSKCsKXveZJ6u2wxpNoa9pdQLcb3RHxGyFbY8ETEN1Fuzw_qWfezoxHjD5WAM6tBZKYCW4xS4PswdllCY-QC09sLbatSaUjNJc9ZvPCRhEN0A8jRmiQxKAD_79XF_CWPq81JEcAsVXcjafV-XlVdZHETyoJb0jRVP_kQGhxLLhMxDL_wCDtWWy9QPDA7LN5zQg8r8ittL9uhdMuReyr31xZj_ztGqbcVHBlB9oJznOXK-Yzz0FWnnioog4fKRcTTZLddvuvGITNHzQSaCK6BlhOESzyb-FN_1m00]--></g></svg>